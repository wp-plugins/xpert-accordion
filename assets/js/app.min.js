!function(e){function a(a){e(".icons",a).selectize({sortField:"text"}).removeClass("icons")}function n(e,a,n,t){return'[xa_slide title="'+e+'" openclose="'+a+'" icon="'+n+'"]'+t+"[/xa_slide]"}var t=e(document),l=1;e(function(){var s=e(".action-new"),c=e("#repeatable");s.on("click",function(){l++;var n=e(".clonable").clone(),t="acc-"+l;n.removeClass("clonable"),n.find(".in").removeClass("in"),n.find("#acc-1").attr("id",t),n.find("[href=#acc-1]").attr("href","#"+t),c.append(n),n.show(),a(n)}),s.trigger("click"),c.sortable({revert:!0}),t.on("click",".action-remove",function(){var a=e(this).closest(".panel-acc"),n=c.find(".panel-acc").length;if(2!=n){var t=confirm("Are Your sure");t===!0&&a.remove()}else alert("Hey Dude! You can't delete last item :)")}),t.on("keyup",".title-acc",function(){var a=e(this).val();e(this).closest(".panel-acc").find(".panel-title > a  > .tx-title").text(a),0===!a.length&&e(this).closest(".panel-acc").hasClass("panel-danger")&&e(this).closest(".panel-acc").removeClass("panel-danger").addClass("panel-default")}),t.on("change",".selectized",function(){var a=e("i").attr("class"),n=e(this).val();if(a!==n){var t=e(this).closest(".panel-acc").find("#title-icon");t.removeClass(),t.addClass("fa fa-"+n)}}),t.on("click",".action-insert",function(){var a=e(".presets").val(),t=[],l=!1;e(".panel-acc").each(function(){if(!e(this).hasClass("clonable")){var a=e(this).find(".title-acc").val(),s=e(this).find(".selectized").val(),c=e(this).find(".content").val(),i=e(this).find(".openclose").prop("checked")?"in":"";0===a.length||0===c.length?(e(this).removeClass("panel-default").addClass("panel-danger"),l=!0):e(this).removeClass("panel-danger").addClass("panel-default "),t.push(n(a,i,s,c))}}),l||(wp.media.editor.insert('[xa_acc style="'+a+'" ]'+t.join("")+"[/xa_acc]"),e("#xa-modal").modal("hide"))});var i=e(".panel-collapse-acc");i.hasClass("in")||i.addClass("in"),t.on("change",".presets",function(){var a=e(this).val(),n=c.attr("class");n!==a&&(e(this).next("#repeatable").removeClass(n),e(this).next("#repeatable").addClass("panel-group ui-sortable "+a))})})}(jQuery);