!function(e){var a=function(a){e(".icons",a).selectize({sortField:"text"}).removeClass("icons")},t=1;e(document).ready(function(){e(".action-new").on("click",function(){t++;var n=e(".clonable").clone(),l="acc-"+t;n.removeClass("clonable"),n.find(".in").removeClass("in"),n.find("#acc-1").attr("id",l),n.find("[href=#acc-1]").attr("href","#"+l),e("#repeatable").append(n),n.show(),a(n)}),e(".action-new").trigger("click"),e("#repeatable").sortable({revert:!0}),e(document).on("click",".action-remove",function(){var a=e(this).closest(".panel-acc"),t=e("#repeatable").find(".panel-acc").length;if(2!=t){var n=confirm("Are Your sure");1==n&&a.remove()}else alert("Hey Dude! You can't delete last item :)")}),e(document).on("keyup",".title-acc",function(){var a=e(this).val();e(this).closest(".panel-acc").find(".panel-title > a  > .tx-title").text(a),0==!a.length&&e(this).closest(".panel-acc").hasClass("panel-danger")&&e(this).closest(".panel-acc").removeClass("panel-danger").addClass("panel-default")}),e(document).on("change",".selectized",function(){var a=e("i").attr("class"),t=e(this).val();a!==t&&(e(this).closest(".panel-acc").find("#title-icon").removeClass(),e(this).closest(".panel-acc").find("#title-icon").addClass("fa fa-"+t))}),e(document).on("click",".action-insert",function(){var a=e(".presets").val(),t=$title=$content=$icon="",n=!0;e(".panel-acc").each(function(){e(this).hasClass("clonable")||($title=e(this).find(".title-acc").val(),$content=e(this).find(".content").val(),$icon=e(this).find(".selectized").val(),0==$title.length||0==$content.length?(e(this).removeClass("panel-default").addClass("panel-danger"),n=!1):e(this).removeClass("panel-danger").addClass("panel-default "),t+='[xa_slide title="'+$title+'" icon="'+$icon+'"]'+$content+"[/xa_slide]")}),n&&(wp.media.editor.insert('[xa_acc style="'+a+'" ]'+t+"[/xa_acc]"),e("#xa-modal").modal("hide"))}),e(".panel-collapse-acc").hasClass("in")||e(".panel-collapse-acc").addClass("in")}),e(document).on("change",".presets",function(){var a=e("#repeatable").attr("class"),t=e(this).val();a!==t&&(e(this).next("#repeatable").removeClass(a),e(this).next("#repeatable").addClass("panel-group ui-sortable "+t))})}(jQuery);